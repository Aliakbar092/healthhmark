<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Search Results</title>
    <!-- Bootstrap CSS -->
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css"
  />
  <link rel="icon" type="image/x-icon" href="/logo.jpeg" style="border-radius: 50%;">
</head>
<style>
    .card-img-top {
    width: 100%;          /* Make the image fill the width of the card */
    height: 200px;        /* Set a fixed height for the images */
    object-fit: cover;    /* Ensures the image covers the area without stretching */
    border-top-left-radius: calc(.25rem - 1px);  /* Match the card border radius */
    border-top-right-radius: calc(.25rem - 1px); /* Match the card border radius */
}
.anm {
  transition: transform 0.2s ease-in-out;
}

.anm:hover {
  transform: translateY(-5px);
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
}

.bor {
  border: 1px solid #ccc; /* adjust the border style as needed */
  box-sizing: border-box; /* make sure the border is included in the element's width and height */
  padding: 10px; /* add some padding to make the border visible */
  box-shadow: 0 0 5px rgba(0, 0, 0, 0.1); /* add a box shadow */
  height: 650px;
}
.hu{
    padding-left: 500px;
}   
</style>
<link rel="stylesheet" href="style.css">
<nav class="navbar navbar-expand-lg navbar-light bg-light" style="box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);">
    <div class="container-fluid">
      <!-- Left Side: Logo and Website Name -->
      <a class="navbar-brand d-flex align-items-center" href="#">
        <img
          src="logo.jpeg"
          alt=""
          width="50"
          height="50"
          border-radius="50px"
          class="d-inline-block align-text-top logo"
        />
        <span class="ms-2" style="margin-left: 10px;  font-family: 'Arial', sans-serif; " >Livestock Healthmark</span>
      </a>

      <!-- Toggler/collapsing button for small screens -->
      <button
        class="navbar-toggler"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#navbarNav"
        aria-controls="navbarNav"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>

      <!-- Right Side: Nav Links, Search, and Sign-in/Sign-up -->
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item hu">
            <a class="nav-link active " aria-current="page" href="#">Home</a>
          </li>
          <li class="nav-item dropdown">
            <a
              class="nav-link dropdown-toggle"
              href="#"
              id="servicesDropdown"
              role="button"
              data-bs-toggle="dropdown"
              aria-expanded="false"
            >
              Services
            </a>
            <ul class="dropdown-menu" aria-labelledby="servicesDropdown">
              <li><a class="dropdown-item" href="#"> Market</a></li>
              <li><a class="dropdown-item" href="doctormain">Consultancy</a></li>
              <li><a class="dropdown-item" href="#">Fooder</a></li>
            </ul>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="home">Marketspace</a>
          </li>
          
          <li class="nav-item">
            <a class="nav-link" href="aboutus">About Us</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="adminsignup">Admin</a>
          </li>
          <li class="nav-item">
            <a
              href="addusers"
              class="nav-link" >
              Sign-in
              </a>
          </li>
        </ul>
        <!-- <form class="d-flex ms-3" action="/search" method="get">
          <input
            class="form-control me-2"
            type="search"
            name="query"
            placeholder="Search"
            aria-label="Search"
          />
          <button class="btn btn-outline-success" type="submit">
            Search
          </button>
      </form> -->
      
        <!-- <button class="btn btn-primary ms-3" data-bs-toggle="modal" data-bs  -target="#authModal">Sign In / Sign Up</button> -->
      </div>
    </div>
  </nav>
<body>
  <div class="cart-icon ml-auto">
    <a href="/cart">
        <i class="fa fa-shopping-cart"></i> 
        <span id="cart-count" class="badge badge-danger">0</span>
    </a>
</div>
    <div class="container mt-4">
        <h2 class="mb-4" style="color: rgb(3, 170, 3);">Search Results :</h2>
        <% if (animals.length > 0) { %>
            <div class="row">
                <% animals.forEach(animal => { %>
                    <div class="col-md-4 mb-4 ">
                        <div class="card anm">
                            <img src="/image/<%= animal._id %>" class="card-img-top" alt="<%= animal.name %>">
                            <div class="card-body ">
                                <h5 class="card-title"><%= animal.name %></h5>
                                <p class="card-text">
                                    <strong>Breed:</strong> <%= animal.breed %><br>
                                    <strong>Color:</strong> <%= animal.color %><br>
                                    <strong>Age:</strong> <%= animal.age %> years old<br>
                                    <strong>Location:</strong> <%= animal.location %><br>
                                    <strong>Price:</strong> $<%= animal.price %>
                                </p>
                                <button class="btn btn-primary">Add to Cart</button>
                                <a href="/lisitng/<%= animal._id %>">
                                  <button class="btn btn-secondary">Details</button>
                              </a>
                            </div>
                        </div>
                    </div>
                <% }); %>
            </div>
        <% } else { %>
            <div class="alert alert-warning" role="alert">
                No animals found matching your criteria.
            </div>
        <% } %>
    </div>
    <footer class="footer">
        <div class="container">
          <div class="row">
            <!-- Description -->
            <div class="col-md-4 description">
              <h4>Livestock Healthmark</h4>
              <p>
                Enhancing livestock health through innovative management
                solutions. Ensuring optimal care and market integration.
              </p>
            </div>
  
            <!-- Quick Links and Other Links -->
            <div class="col-md-4 links">
              <div class="row">
                <div class="col-6">
                  <h5>Quick Links</h5>
                  <ul class="list-unstyled">
                    <li><a href="/">Home</a></li>
                    <li><a href="aboutus">About Us</a></li>
                    <li><a href="#">Services</a></li>
                    <li><a href="#">Contact</a></li>
                  </ul>
                </div>
                <div class="col-6">
                  <h5>Other Links</h5>
                  <ul class="list-unstyled">
                    <li><a href="#">Privacy Policy</a></li>
                    <li><a href="#">Terms of Service</a></li>
                    <li><a href="#">FAQs</a></li>
                    <li><a href="#">Support</a></li>
                  </ul>
                </div>
              </div>
            </div>
  
            <!-- Social Media Links -->
            <div class="col-md-4">
              <h5>Follow Us</h5>
              <div class="social-icons">
                <a href="#" class="btn btn-outline-light btn-sm" role="button">
                  <i class="fa-brands fa-facebook-f"></i>
                </a>
                <a href="#" class="btn btn-outline-light btn-sm" role="button">
                  <i class="fa-brands fa-twitter"></i>
                </a>
                <a href="#" class="btn btn-outline-light btn-sm" role="button">
                  <i class="fa-brands fa-instagram"></i>
                </a>
                <a href="#" class="btn btn-outline-light btn-sm" role="button">
                  <i class="fa-brands fa-linkedin-in"></i>
                </a>
              </div>
            </div>
          </div>
        </div>
      </footer>
      <div class="fo">
        <div class="foo">
          <p class="copyright">
            Â© 2024 All Rights Reserved | Livestock HealthMark
          </p>
        </div>
      </div>

    <!-- Bootstrap JS and dependencies -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script>
      document.addEventListener('DOMContentLoaded', function() {
    updateCartIcon();
});

// Add to Cart functionality
document.querySelectorAll('.add-to-cart').forEach(button => {
    button.addEventListener('click', function() {
        const animalId = this.getAttribute('data-animal-id');
        const animalName = this.getAttribute('data-animal-name');
        const animalPrice = this.getAttribute('data-animal-price');
        const animalImage = this.getAttribute('data-animal-image');

        let cart = JSON.parse(localStorage.getItem('cart')) || [];
        
        // Check if the animal is already in the cart
        const existingAnimal = cart.find(item => item.id === animalId);
        
        if (existingAnimal) {
            alert(animalName + " is already in the cart.");
        } else {
            // Add new animal to cart
            cart.push({
                id: animalId,
                name: animalName,
                price: animalPrice,
                image: animalImage,
                quantity: 1 // Initial quantity
            });
            
            // Save cart back to localStorage
            localStorage.setItem('cart', JSON.stringify(cart));

            // Update cart icon
            updateCartIcon();
            
            // alert(animalName + " added to cart.");
        }
    });
});

// Function to update cart icon with the number of items
function updateCartIcon() {
    const cart = JSON.parse(localStorage.getItem('cart')) || [];
    document.getElementById('cart-count').innerText = cart.length;
}

    </script>
</body>
</html>
